<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç›£ç„é¤…ä¹¾åº—</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #1a1a1a;
            color: #f5deb3;
            margin: 0;
            padding: 20px;
            text-align: center;
            min-height: 100vh;
        }
        h1 {
            text-shadow: 0 0 10px #f5deb3;
            font-size: 2.5em;
            margin-bottom: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
        }
        .cookies-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 40px auto;
            max-width: 900px;
        }
        .cookie-item {
            background-color: #2a2a2a;
            border: 3px solid #654321;
            border-radius: 15px;
            padding: 20px;
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        .cookie-item:hover {
            transform: scale(1.03);
            box-shadow: 0 0 15px rgba(245, 222, 179, 0.5);
        }
        .cookie-image {
            width: 150px;
            height: 150px;
            background-color: #654321;
            border-radius: 50%;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
        }
        .cookie-name {
            font-size: 1.5em;
            margin-bottom: 10px;
            color: #f5deb3;
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.8);
        }
        .modal-content {
            background-color: #2a2a2a;
            margin: 10% auto;
            padding: 30px;
            border: 3px solid #654321;
            border-radius: 15px;
            width: 70%;
            max-width: 600px;
            color: #f5deb3;
            position: relative;
        }
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            position: absolute;
            top: 10px;
            right: 15px;
        }
        .close:hover, .close:focus {
            color: #f5deb3;
            text-decoration: none;
            cursor: pointer;
        }
        .recipe-btn {
            background-color: #654321;
            color: #f5deb3;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            font-size: 1em;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s;
        }
        .recipe-btn:hover {
            background-color: #8B4513;
            transform: scale(1.05);
        }
        .backdoor {
            position: fixed;
            right: 30px;
            top: 50%;
            transform: translateY(-50%);
            width: 70px;
            height: 140px;
            background-color: #654321;
            border: 3px solid #8B4513;
            border-radius: 5px 5px 0 0;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .backdoor:hover {
            transform: translateY(-50%) scale(1.05);
            box-shadow: 0 0 15px rgba(245, 222, 179, 0.5);
        }
        .doorknob {
            width: 15px;
            height: 15px;
            background-color: #FFD700;
            border-radius: 50%;
            position: absolute;
            right: 10px;
        }
        .password-modal {
            display: none;
            position: fixed;
            z-index: 2;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.8);
        }
        .password-modal-content {
            background-color: #2a2a2a;
            margin: 15% auto;
            padding: 30px;
            border: 3px solid #654321;
            border-radius: 15px;
            width: 50%;
            max-width: 400px;
        }
        .password-input {
            width: 80%;
            padding: 10px;
            margin: 20px 0;
            border: 2px solid #654321;
            background-color: #1a1a1a;
            color: #f5deb3;
            border-radius: 5px;
            font-size: 1em;
        }
        .submit-btn {
            background-color: #654321;
            color: #f5deb3;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s;
        }
        .submit-btn:hover {
            background-color: #8B4513;
        }
        .hint {
            margin-top: 40px;
            font-style: italic;
            color: #aaa;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ç§˜å¯†ç›£ç„é¤…ä¹¾åº—</h1>
        <p>å›šçŠ¯å€‘çš„æœ€æ„›ï¼é»æ“Šé¤…ä¹¾æŸ¥çœ‹è©³æƒ…</p>
        
        <div class="cookies-container">
            <div class="cookie-item" onclick="openModal('cookie1')">
                <div class="cookie-image">ğŸª</div>
                <div class="cookie-name">éµçª—é¤…</div>
            </div>
            
            <div class="cookie-item" onclick="openModal('cookie2')">
                <div class="cookie-image">ğŸª</div>
                <div class="cookie-name">é€ƒç„é¤…</div>
            </div>
            
            <div class="cookie-item" onclick="openModal('cookie3')">
                <div class="cookie-image">ğŸª</div>
                <div class="cookie-name">é‡‘é‘°é¤…</div>
            </div>
            
            <div class="cookie-item" onclick="openModal('cookie4')">
                <div class="cookie-image">ğŸª</div>
                <div class="cookie-name">çœ‹å®ˆé¤…</div>
            </div>
            
            <div class="cookie-item" onclick="openModal('cookie5')">
                <div class="cookie-image">ğŸª</div>
                <div class="cookie-name">è‡ªç”±é¤…</div>
            </div>
            
            <div class="cookie-item" onclick="openModal('cookie6')">
                <div class="cookie-image">ğŸª</div>
                <div class="cookie-name">ç‰¹å‹™é¤…</div>
            </div>
        </div>
        
        <div class="hint">
            <p>æç¤ºï¼šç§˜å¯†ä¸ç¸½æ˜¯éš±è—åœ¨æ˜é¡¯çš„åœ°æ–¹ï¼Œæœ‰æ™‚éœ€è¦ä»”ç´°æª¢æŸ¥ç‰¹åˆ¥çš„é¤…ä¹¾...</p>
        </div>

        <div class="backdoor" onclick="openPasswordModal()">
            <div class="doorknob"></div>
            <span style="transform: rotate(90deg); color: #f5deb3;">å»šæˆ¿å¾Œé–€</span>
        </div>
    </div>

    <!-- é¤…ä¹¾è©³æƒ…å½ˆçª— -->
    <div id="cookieModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2 id="modalTitle"></h2>
            <p id="modalDescription"></p>
            <button class="recipe-btn" id="recipeButton" onclick="getRecipe()">ç²å–ç§˜æ–¹</button>
        </div>
    </div>

    <!-- å¯†ç¢¼å½ˆçª— -->
    <div id="passwordModal" class="password-modal">
        <div class="password-modal-content">
            <span class="close" onclick="closePasswordModal()">&times;</span>
            <h2>å»šæˆ¿å¾Œé–€</h2>
            <p>è«‹è¼¸å…¥å¯†ç¢¼</p>
            <form id="passwordForm" action="/check_password" method="post">
                <input type="text" name="password" class="password-input" placeholder="è«‹è¼¸å…¥å¯†ç¢¼..." required>
                <button type="submit" class="submit-btn">ç¢ºèª</button>
            </form>
        </div>
    </div>

    <script>
        // é¤…ä¹¾è³‡æ–™
        const cookies = {
            cookie1: {
                name: "éµçª—é¤…",
                description: "è±¡å¾µç›£ç„éµçª—çš„é¤…ä¹¾ï¼Œç”±æ¢§æ¡è‘‰å’Œç³–éœœè£½æˆçš„æ¢ç´‹ï¼Œå£å‘³å¸¶æœ‰ä¸€çµ²æ†‚å‚·ã€‚ç‰¹è‰²æ˜¯åƒäº†ä¹‹å¾Œæœƒè®“ä½ æ„Ÿè¦ºè¢«é™åˆ¶åœ¨ä¸€å€‹å°ç©ºé–“å…§ï¼Œä½†å»æ˜¯ç›£ç„ä¸­æœ€å—æ­¡è¿çš„ç”œé»ä¹‹ä¸€ã€‚"
            },
            cookie2: {
                name: "é€ƒç„é¤…",
                description: "å‚³èªªä¸­èƒ½æ¿€ç™¼ä½ é€ƒè„«èƒ½åŠ›çš„é¤…ä¹¾ï¼Œå…§è—ä¸€æŠŠå¾®å‹é‹¸å­ï¼ˆå…¶å¯¦æ˜¯æä»ç‰‡ï¼‰ã€‚æ­¤é¤…ä¹¾å«æœ‰èƒ½æé«˜è­¦è¦ºæ€§çš„å’–å•¡å› ï¼Œæ˜¯é«˜é¢¨éšªå›šçŠ¯çš„ç¦æ­¢é£Ÿç‰©ã€‚"
            },
            cookie3: {
                name: "é‡‘é‘°é¤…",
                description: "å½¢ç‹€åƒé‘°åŒ™çš„é¤…ä¹¾ï¼Œæ“šèªªåƒäº†èƒ½å¸¶ä¾†å¥½é‹ã€‚ç‰¹æ®Šçš„ç„¦ç³–é…æ–¹ä½¿å…¶å£æ„Ÿç‰¹åˆ¥é¦™ç”œï¼Œæ˜¯æ–°å›šçŠ¯çš„æ­¡è¿ç¦®ç‰©ã€‚ç§˜æ–¹ç¶“éç‰¹åˆ¥ä¿è­·ï¼Œåªæœ‰æœ€å„ªç§€çš„å›šçŠ¯æ‰èƒ½ç²å¾—ã€‚"
            },
            cookie4: {
                name: "çœ‹å®ˆé¤…",
                description: "åš´è‚…çš„å¤–è¡¨ä¸‹éš±è—è‘—æŸ”è»Ÿçš„å…§å¿ƒï¼Œå°±åƒæŸäº›çœ‹å®ˆä¸€æ¨£ã€‚é€™æ¬¾é¤…ä¹¾å¤–é…¥å…§è»Ÿï¼Œæ’’ä¸Šäº†å°‘è¨±è¾£æ¤’ç²‰ï¼Œæé†’å›šçŠ¯å€‘è¦çŸ©çš„é‡è¦æ€§ã€‚"
            },
            cookie5: {
                name: "è‡ªç”±é¤…",
                description: "å½¢ç‹€åƒä¸€éš»å±•ç¿…çš„é´¿å­ï¼Œä»£è¡¨è‘—è‡ªç”±çš„å¸Œæœ›ã€‚å£æ„Ÿè¼•ç›ˆå¦‚é›²ï¼Œå½·å½¿èƒ½å¸¶ä½ é£›è¶Šé«˜ç‰†ã€‚æ¯å€‹å›šçŠ¯éƒ½å¤¢æƒ³è‘—èƒ½åšåˆ°ç›£ç„å¤–çš„æ­£å®—è‡ªç”±é¤…ã€‚"
            },
            cookie6: {
                name: "ç‰¹å‹™é¤…",
                description: "ç›£ç„æœ€ç¥ç§˜çš„é¤…ä¹¾ï¼Œå¤–è¡¨æ™®é€šå»éš±è—è‘—ç§˜å¯†ã€‚é¤…ä¹¾ä¸­é–“æœ‰ä¸€å±¤ç‰¹æ®Šçš„å¤¾å¿ƒï¼Œæ“šèªªå“åšå¾Œèƒ½ç²å¾—ç‰¹æ®Šè³‡è¨Šã€‚æ˜¯ç›£ç„é•·çš„æœ€æ„›ï¼Œåªåœ¨ç‰¹æ®Šå ´åˆæä¾›ã€‚"
            }
        };

        let currentCookie = '';

        function openModal(cookieId) {
            currentCookie = cookieId;
            document.getElementById('modalTitle').textContent = cookies[cookieId].name;
            document.getElementById('modalDescription').textContent = cookies[cookieId].description;
            document.getElementById('cookieModal').style.display = 'block';
        }

        function closeModal() {
            document.getElementById('cookieModal').style.display = 'none';
        }

        function openPasswordModal() {
            document.getElementById('passwordModal').style.display = 'block';
        }

        function closePasswordModal() {
            document.getElementById('passwordModal').style.display = 'none';
        }

        function getRecipe() {
            // ç™¼é€AJAXè«‹æ±‚ç²å–é¤…ä¹¾ç§˜æ–¹
            fetch('/cookie_recipe/' + currentCookie, {
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json'
                },
            })
            .then(response => response.json())
            .then(data => {
                if (data.message) {
                    alert(data.message);
                    if (data.success) {
                        document.getElementById('recipeButton').style.backgroundColor = "#4CAF50";
                        // ç§»é™¤ç¦ç”¨æŒ‰éˆ•å’Œæ–‡å­—æ›´æ”¹ï¼Œè®“ä½¿ç”¨è€…å¯ä»¥å¤šæ¬¡é»æ“Š
                    }
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('ç²å–ç§˜æ–¹å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦');
            });
        }

        // ç•¶ç”¨æˆ¶é»æ“Šå½ˆçª—ä»¥å¤–çš„å€åŸŸæ™‚é—œé–‰å½ˆçª—
        window.onclick = function(event) {
            let modal = document.getElementById('cookieModal');
            if (event.target == modal) {
                closeModal();
            }
            
            let passwordModal = document.getElementById('passwordModal');
            if (event.target == passwordModal) {
                closePasswordModal();
            }
        };

        // æäº¤å¯†ç¢¼è¡¨å–®
        document.getElementById('passwordForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const password = document.querySelector('.password-input').value;
            
            fetch('/check_password', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                },
                body: 'password=' + encodeURIComponent(password)
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    window.location.href = '/paths';
                } else {
                    alert(data.message || 'å¯†ç¢¼éŒ¯èª¤ï¼Œè«‹é‡è©¦');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('ç³»çµ±éŒ¯èª¤ï¼Œè«‹ç¨å¾Œå†è©¦');
            });
        });
    </script>
</body>
</html>
